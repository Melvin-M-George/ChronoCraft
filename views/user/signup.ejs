

<%-include("../partials/user/header")%>


    
    <main class="main">
        
        <section class="pt-150 pb-150">
            <div class="container">
                <div class="row justify-content-center"> <!-- Center the row -->
                    <div class="col-lg-6">
                        <div class="login_wrap widget-taber-content p-30 background-white border-radius-5">
                            <div class="padding_eight_all bg-white">
                                <div class="heading_s1">
                                    <h3 class="mb-30">Create an Account</h3>
                                </div>
                                <p class="mb-50 font-sm">
                                    Your personal data will be used to support your experience throughout this website, to manage access to your account, and for other purposes described in our privacy policy
                                </p>
                                <%if(locals.message && message.length > 0){
                                    %>
                                   <div class="alert alert-danger text-center"> <%= message%></div>
                                    <%
                                }%>
                                <form method="post" action="/signup" id="signupForm">
                                    <div class="form-group">
                                      <input type="text" required="" name="name" id="username" placeholder="Username">
                                      <div class="text-danger" id="usernameError"></div>
                                    </div>
                                    <div class="form-group">
                                      <input type="text" required="" name="email" id="email" placeholder="Email">
                                      <div class="text-danger" id="emailError"></div>
                                    </div>
                                    <div class="form-group">
                                      <input type="text" required="" name="phone" id="phone" placeholder="Phone">
                                      <div class="text-danger" id="phoneError"></div>
                                    </div>
                                    <div class="form-group">
                                      <input required="" type="password" name="password" id="password" placeholder="Password">
                                      <div class="text-danger" id="passwordError"></div>
                                    </div>
                                    <div class="form-group">
                                      <input required="" type="password" name="cPassword" id="cPassword" placeholder="Confirm password">
                                      <div class="text-danger" id="cPasswordError"></div>
                                    </div>
                                    <div class="login_footer form-group">
                                      <div class="chek-form">
                                        <div class="custome-checkbox">
                                          <input class="form-check-input" type="checkbox" name="checkbox" id="exampleCheckbox12" value="">
                                          <label class="form-check-label" for="exampleCheckbox12"><span>I agree to terms &amp; Policy.</span></label>
                                        </div>
                                      </div>
                                      <a href="page-privacy-policy.html"><i class="fi-rs-book-alt mr-5 text-muted"></i>Learn more</a>
                                    </div>
                                    <div class="form-group text-center">
                                      <button type="submit" class="btn btn-fill-out btn-block hover-up" name="login">Submit &amp; Register</button>
                                    </div>
                                  </form>
                                  
                                <div class="divider-text-center mt-15 mb-15">
                                    <span> or</span>
                                </div>
                                <ul class="btn-login list_none text-center mb-15">
                                   
                                    <li><a href="/auth/google" class="btn btn-google hover-up">Sign Up With Google</a></li>
                                </ul>
                                <div class="text-muted text-center">Already have an account? <a href="/login">Sign in now</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
    </main>

    <!-- form validation -->
    <script>
       document.getElementById("signupForm").addEventListener("submit", function(event) {
    // Prevent form submission if there are validation errors
    if (!validateForm()) {
        event.preventDefault();
    }
    });

    function validateForm() {
    let isValid = true;
    
    // Username validation
    const username = document.getElementById("username").value.trim();
    const usernameError = document.getElementById("usernameError");
    const usernameRegex = /^[a-zA-Z0-9]+(?: [a-zA-Z0-9]+)*$/;
    if (!username || !usernameRegex.test(username)) {
        usernameError.innerText = "Username can only contain alphanumeric characters and spaces (no special characters).";
        isValid = false;
    } else {
        usernameError.innerText = "";
    }

    // Email validation
    const email = document.getElementById("email").value.trim();
    const emailError = document.getElementById("emailError");
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!email || !emailRegex.test(email)) {
        emailError.innerText = "Please enter a valid email address.";
        isValid = false;
    } else {
        emailError.innerText = "";
    }

    // Phone number validation
    const phone = document.getElementById("phone").value.trim();
    const phoneError = document.getElementById("phoneError");
    if (!phone || !/^[1-9]\d{9}$/.test(phone)) {
    phoneError.innerText = "Phone number must be 10 digits and cannot start with zero.";
    isValid = false;
    } else {
    phoneError.innerText = "";
    }


    // Password validation
    const password = document.getElementById("password").value;
    const passwordError = document.getElementById("passwordError");
    if (!password || password.length < 5) {
        passwordError.innerText = "Password must be at least 5 characters.";
        isValid = false;
    } else {
        passwordError.innerText = "";
    }

    // Confirm password validation
    const cPassword = document.getElementById("cPassword").value;
    const cPasswordError = document.getElementById("cPasswordError");
    if (cPassword !== password) {
        cPasswordError.innerText = "Passwords do not match.";
        isValid = false;
    } else {
        cPasswordError.innerText = "";
    }

    return isValid;
    }

    // Real-time validation
    ["username", "email", "phone", "password", "cPassword"].forEach(id => {
    document.getElementById(id).addEventListener("input", validateForm);
    });

    </script>


